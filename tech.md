# 프로젝트 기술 스택 및 구조 분석

이 문서는 `FE-ai` 프로젝트의 기술 스택, 라이브러리, 페이지 구성, 주요 기능 등을 상세히 설명합니다.

## 1. 개요

이 프로젝트는 React 기반의 프론트엔드 애플리케이션으로, Vite를 빌드 도구로 사용합니다. 사용자의 일기를 기록하고, OpenAI API를 통해 감정을 분석하여 시각화 및 관련 콘텐츠를 추천해주는 기능을 중심으로 구성되어 있습니다.

- **프론트엔드**: React, Vite
- **상태 관리 및 데이터 페칭**: SWR, React Context API
- **라우팅**: React Router
- **HTTP 클라이언트**: Axios
- **AI 기반 감정 분석**: Python 스크립트 (`analyze_diary_openai.py`) + OpenAI API (`gpt-4o-mini`)
- **배포**: Vercel (예상, `vercel.json` 기반)

## 2. 주요 기술 및 라이브러리

### 프론트엔드

- **`react` (v19.1.0)**: UI 구축을 위한 핵심 라이브러리.
- **`react-dom` (v19.1.0)**: React를 웹에 렌더링하기 위한 라이브러리.
- **`vite` (v6.3.5)**: 빠르고 효율적인 프론트엔드 빌드 도구.
- **`react-router-dom` (v7.6.2)**: 클라이언트 사이드 라우팅을 관리하여 페이지 간 이동을 구현.
- **`axios` (v1.12.2)**: 백엔드 API 서버와 HTTP 통신을 하기 위한 라이브\_
- **`swr` (v2.3.6)**: 데이터 페칭, 캐싱, 재검증을 위한 React Hooks 라이브러리.
- **`recharts` (v3.2.0)**: 감정 분석 결과를 시각화하기 위한 차트 라이브러리.
- **`date-fns` (v4.1.0)**: 날짜 및 시간 관련 유틸리티 라이브러리 (달력 기능 등에 사용).
- **`js-cookie` (v3.0.5)**: 클라이언트 측에서 쿠키를 쉽게 관리하기 위한 라이브러리 (인증 토큰 저장 등).
- **`lucide-react` (v0.522.0)**: 아이콘 표시를 위한 라이브러리.

### 백엔드 및 AI

- **`Python`**: `analyze_diary_openai.py` 스크립트를 통해 AI 감정 분석을 수행.
  - 표준 라이브러리 (`os`, `sys`, `json`, `urllib.request`)만을 사용하여 외부 종속성이 없음.
- **`OpenAI API`**: `gpt-4o-mini` 모델을 사용하여 일기 내용 기반의 감정 분석, 요약, 콘텐츠 추천 등을 수행.
- **Vite Proxy**: 개발 서버에서 `/api` 경로의 요청을 백엔드 서버(`http://3.34.67.51:8080`)로 프록시 설정.

### 코드 품질

- **`eslint` (v9.25.0)**: 코드 스타일을 일관되게 유지하고 잠재적인 오류를 방지.

## 3. 페이지 구성 및 라우팅

`src/App.jsx` 파일에서 `react-router-dom`을 사용해 다음과 같이 라우팅이 설정되어 있습니다.

- **`/` (Home.jsx)**: 애플리케이션의 메인 랜딩 페이지.
- **`/auth` (Auth.jsx)**: 로그인 및 회원가입 폼이 있는 인증 페이지. 로그인하지 않은 사용자만 접근 가능.
- **`/dashboard/*` (Dashboard.jsx)**: 로그인한 사용자만 접근 가능한 대시보드. 감정 분석 결과, 캘린더 등 주요 기능이 포함된 페이지.
- **`*`**: 정의되지 않은 모든 경로는 홈 페이지(`/`)로 리디렉션.

## 4. 주요 기능

### 1. 사용자 인증

- `AuthContext`와 `useAuth` Hook을 통해 전역적으로 사용자 로그인 상태를 관리.
- `ProtectedRoute` 컴포넌트를 사용하여 특정 페이지(예: `/dashboard`)는 로그인한 사용자만 접근할 수 있도록 보호.
- `js-cookie`를 사용하여 인증 토큰을 안전하게 관리.

### 2. 일기 작성 및 관리

- 사용자는 일기를 작성하고 저장할 수 있습니다. (기능 예상)
- `Calendar.jsx` 컴포넌트를 통해 특정 날짜의 일기를 보거나 작성할 수 있습니다.

### 3. AI 기반 감정 분석 (`analyze_diary_openai.py`)

- 사용자가 작성한 일기 내용을 Python 스크립트로 전달.
- 스크립트는 OpenAI API(`gpt-4o-mini`)를 호출하여 다음 정보를 포함하는 JSON 응답을 생성:
  - **감정 라벨**: `POSITIVE`, `NEGATIVE`, `NEUTRAL`, `MIXED` 중 하나.
  - **감정 스코어**: 0.0 ~ 1.0 사이의 신뢰도 점수.
  - **한 줄 요약** 및 **공감/위로 문장**.
  - **추천 콘텐츠**: 행동, 노래, 음식, 활동, 저널링 프롬프트 등.
  - **안전 확인**: 자해/위기 신호 감지 시 `safety.crisis` 플래그 활성화.

### 4. 데이터 시각화

- `Dashboard.jsx` 페이지에서 `recharts` 라이브러리를 사용하여 감정 분석 결과를 차트(예: 원형, 막대 그래프)로 시각화.

### 5. 커뮤니티

- `Community.jsx` 및 `CommunityDetail.jsx` 페이지를 통해 다른 사용자들과 소통할 수 있는 커뮤니티 기능이 존재.

## 5. 프로젝트 구조

- **`src/`**: 핵심 소스 코드가 위치.
  - **`api/`**: API 서비스 및 Axios 설정.
  - **`components/`**: 재사용 가능한 React 컴포넌트 (캘린더, 헤더, 인증 폼 등).
  - **`context/`**: `AuthContext` 등 React Context API 관련 코드.
  - **`hooks/`**: `useAuth`와 같은 커스텀 React Hooks.
  - **`pages/`**: 각 라우트에 해당하는 페이지 컴포넌트.
  - **`styles/`**: 각 컴포넌트 및 페이지에 대한 CSS 스타일시트.
  - **`utils/`**: 날짜 처리 등 유틸리티 함수.
- **`public/`**: 정적 에셋 (이미지, 아이콘 등).
- **`analyze_diary_openai.py`**: 독립적으로 실행되는 Python 기반 감정 분석 스크립트.
- **`vite.config.js`**: Vite 설정 파일 (프록시 설정 포함).
- **`vercel.json`**: Vercel 배포 설정 파일. SPA(Single Page Application)로 동작하도록 모든 요청을 `index.html`로 리디렉션.
